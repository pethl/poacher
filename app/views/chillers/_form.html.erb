<div class="max-w-xl mx-auto mt-4 bg-white p-4">
  <%= form_with(model: @chiller, data: { turbo: "false" }, local: true) do |form| %>

    <%= form_errors_for(chiller) %>

    <div class="grid grid-cols-2 gap-x-5 gap-y-3 items-center">

      <!-- Date -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :date %>
      </label>
      <div class="text-left">
        <%= form.date_field :date, class: field_class_flex_med %>
      </div>

      <!-- Chiller 1 -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :chiller_1 %>
      </label>
      <div class="text-left">
        <%= form.number_field :chiller_1, step: 0.1, class: field_class_flex_small %>
      </div>

      <!-- Chiller 2 -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :chiller_2 %>
      </label>
      <div class="text-left">
        <%= form.number_field :chiller_2, step: 0.1, class: field_class_flex_small %>
      </div>

      <!-- Action Taken -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :action_taken %>
      </label>
      <div class="text-left">
        <%= form.text_area :action_taken, rows: 3, class: field_class_unsized %>
      </div>

      <!-- Staff -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :staff_id %>
      </label>
      <div class="text-left">
        <%= form.collection_select :staff_id, @staffs, :id, :full_name, { prompt: true }, class: field_class_flex %>
      </div>

      <!-- Signature Block (spanning full width) -->
      <div class="col-span-2 mt-4">
        <div data-controller="signature" class="flex flex-col items-center space-y-4 p-4 border border-gray-300 rounded bg-gray-50">
          <canvas width="400" height="200" class="border border-gray-400 rounded-lg shadow-sm bg-white"></canvas>
          <%= form.hidden_field :signature, class: "signature-input" %>
         <button type="button"
          class="clear-signature text-sm text-gray-500 hover:text-gray-700 underline">
          Clear Signature
        </button>

        </div>
      </div>

      <!-- Back to Index (left column) -->
      <div class="text-left mt-2">
        <%= link_to "← Back to Index", chillers_path, class: gray_button %>
      </div>

      <!-- Submit (right column) -->
      <div class="text-left mt-2">
        <%= form.submit "Update Record", class: fill_button_class %>
      </div>

    </div>

  <% end %>
</div>
