<% flash.each do |flash_type, message| %>
  <% bg_class, text_class, icon_class = case flash_type.to_sym
    when :notice
      ["bg-green-100", "text-green-800", "fa-circle-check"]
    when :alert, :error
      ["bg-red-100", "text-red-800", "fa-triangle-exclamation"]
    else
      ["bg-blue-100", "text-blue-800", "fa-info-circle"]
    end
  %>

  <div class="flash-message mt-4 px-4 py-3 rounded-lg flex items-center gap-3 shadow-md max-w-xl mx-auto <%= bg_class %>">
    <i class="fa-solid <%= icon_class %> <%= text_class %> text-xl"></i>
    <p class="text-base font-medium <%= text_class %> m-0">
      <%= message %>
    </p>
  </div>
<% end %>

<script>
  setTimeout(() => {
    document.querySelectorAll('.flash-message').forEach(el => {
      el.style.display = 'none';
    });
  }, 5000);
</script>

