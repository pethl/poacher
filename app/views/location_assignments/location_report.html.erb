<%= render 'shared/store_nav' %>

<div class="mx-auto max-w-6xl px-4">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    
    <!-- Trolleys -->
    <div class="rounded-2xl border border-gray-800 p-4">
      <h3 class="text-xl font-semibold text-center mb-2 ">Trolleys</h3>
      <div class="w-[240px] mx-auto">
        <%= pie_chart @trolley_data, height: "240px", colors: ["#1f2937", "#f3f4f6"] %>
      </div>
      <p class="text-center text-xl text-gray-800 font-semibold mt-2"><%= @trolley_percent %>% full</p>
    </div>

    <!-- Shed 4 -->
    <div class="rounded-2xl border border-gray-800 p-4">
      <h3 class="text-xl font-semibold text-center mb-2">Shed 4</h3>
      <div class="w-[240px] mx-auto">
        <%= pie_chart @shed_4_aisle_data, height: "240px", colors: ["#1f2937", "#f3f4f6"] %>
      </div>
      <p class="text-center text-xl text-gray-800 font-semibold mt-2"><%= @shed_4_percent %>% full</p>
    </div>

    <!-- Shed 5 -->
    <div class="rounded-2xl border border-gray-800 p-4">
      <h3 class="text-xl font-semibold text-center mb-2">Shed 5</h3>
      <div class="w-[240px] mx-auto">
        <%= pie_chart @shed_5_aisle_data, height: "240px", colors: ["#1f2937", "#f3f4f6"] %>
      </div>
      <p class="text-center text-xl text-gray-800 font-semibold mt-2"><%= @shed_5_percent %>% full</p>
    </div>

  </div>

<div class="mt-10 space-y-6 max-w-6xl mx-auto px-4">

  <!-- Empty Locations – Shed 4 -->
<div data-controller="accordion" class="border border-gray-300 rounded-xl bg-gray-50 overflow-hidden">
  <button
    data-action="click->accordion#toggle"
    class="w-full text-left px-4 py-3 font-semibold text-gray-800 hover:bg-gray-200"
  >
    Empty Locations – Shed 4
  </button>
  <div data-accordion-target="section" class="px-4 pb-4 hidden">
    <% if @empty_shed_4.any? %>
      <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm text-gray-700">
        <% @empty_shed_4.each do |loc| %>
          <li class="bg-white rounded px-2 py-1 border border-gray-200 shadow-sm"><%= loc.name %></li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-sm text-gray-500">No empty locations in Shed 4.</p>
    <% end %>
  </div>
</div>

<!-- Empty Locations – Shed 5 -->
<div data-controller="accordion" class="border border-gray-300 rounded-xl bg-gray-50 overflow-hidden mt-6">
  <button
    data-action="click->accordion#toggle"
    class="w-full text-left px-4 py-3 font-semibold text-gray-800 hover:bg-gray-200"
  >
    Empty Locations – Shed 5
  </button>
  <div data-accordion-target="section" class="px-4 pb-4 hidden">
    <% if @empty_shed_5.any? %>
      <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm text-gray-700">
        <% @empty_shed_5.each do |loc| %>
          <li class="bg-white rounded px-2 py-1 border border-gray-200 shadow-sm"><%= loc.name %></li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-sm text-gray-500">No empty locations in Shed 5.</p>
    <% end %>
  </div>
</div>

<!-- Empty Trolleys -->
<div data-controller="accordion" class="border border-gray-300 rounded-xl bg-gray-50 overflow-hidden mt-6">
  <button
    data-action="click->accordion#toggle"
    class="w-full text-left px-4 py-3 font-semibold text-gray-800 hover:bg-gray-200"
  >
    Empty Trolleys
  </button>
  <div data-accordion-target="section" class="px-4 pb-4 hidden">
    <% if @empty_trolleys.any? %>
      <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm text-gray-700">
        <% @empty_trolleys.each do |loc| %>
          <li class="bg-white rounded px-2 py-1 border border-gray-200 shadow-sm"><%= loc.name %></li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-sm text-gray-500">No empty trolleys.</p>
    <% end %>
  </div>
</div>


</div>
