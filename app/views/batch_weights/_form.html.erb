<div class="max-w-2xl mx-auto mt-8 bg-white p-6 ">
  <%= form_with(model: batch_weight, local: true) do |form| %>

    <%= form_errors_for(batch_weight) %>

    <div class="grid grid-cols-2 gap-x-6 gap-y-5 items-center">

      <!-- Date (only editable on new) -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :date %>
      </label>
      <div class="text-left">
        <%= form.date_field :date,
                            value: batch_weight.date || Date.today,
                            placeholder: Time.now.strftime('%Y-%m-%d'),
                            class: field_class_flex_med,
                            disabled: !batch_weight.new_record? %>
        <%= field_error_for(batch_weight, :date) %>
      </div>

      <!-- Makesheet Select (only editable on new) -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :makesheet_id, "Production Date / Batch" %>
      </label>
      <div class="text-left">
        <%= form.collection_select :makesheet_id,
                                   @makesheets,
                                   :id,
                                   :make_date_formatted_and_grade,
                                   { prompt: "Select.." },
                                   { class: field_class_flex, disabled: !batch_weight.new_record? } %>
        <%= field_error_for(batch_weight, :makesheet_id) %>
      </div>

      <!-- Washed Batch Weight -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :washed_batch_weight %>
      </label>
      <div class="text-left">
        <%= form.number_field :washed_batch_weight, class: field_class_flex_med %>
        <%= field_error_for(batch_weight, :washed_batch_weight) %>
      </div>

     <!-- All Rinds Visually Clean -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :all_rinds_visually_clean, "All rinds visually cleaned?" %>
      </label>
      <div class="text-left flex items-center gap-4">
        <label class="inline-flex items-center gap-2">
          <%= form.radio_button :all_rinds_visually_clean, true, class: "h-6 w-6 text-gray-800 accent-gray-800" %>
          <span class="px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Yes</span>
        </label>
        <label class="inline-flex items-center gap-2">
          <%= form.radio_button :all_rinds_visually_clean, false, class: "h-6 w-6 text-gray-800 accent-gray-800" %>
          <span class="px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">No</span>
        </label>
      </div>

     
      <!-- Comments -->
      <label class="text-right font-semibold text-gray-700">
        <%= form.label :comments %>
      </label>
      <div class="text-left">
        <%= form.text_area :comments, class: field_class_flex, rows: 5 %>
        <%= field_error_for(batch_weight, :comments) %>
      </div>

      <!-- Submit -->
       <!-- Back to Index (1st col, label side) -->
      <div class="text-left">
        <%= link_to "← Back to Calculations", batch_weights_path, class: gray_button %>
      </div>

      <!-- Submit Button (2nd col, input side) -->
      <div class="text-left">
        <%= form.submit "Save", class: fill_button_class %>
      </div>
    </div>

  <% end %>
</div>
