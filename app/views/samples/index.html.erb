<div class="w-full">
  <% content_for(:page_title, "SAMPLES")%>

  <div class="flex justify-between items-center">

    <%= link_to "New sample", new_sample_path, class: fill_button_class %>
  </div>


<div class="items-center rounded text-sm">
<%= turbo_refreshes_with method: :morph, scroll: :preserve %>

<div class="sticky top-0 font-normal text-left text-sm m-2">
<i class="fa-solid fa-circle-info"></i> Click any underlined column header to sort table
</div>

<div class="flex flex-col h-screen">
    <div class="flex-grow overflow-auto">
      <table class="relative w-full border text-sm text-left text-gray-500  ">
       <thead class="text-xs text-gray-700 uppercase bg-gray-200 ">
        <tr class="bg-gray-200 sticky top-0">
                <th scope="col" class="sticky top-0 px-6 py-3 w-30  underline underline-offset-2">
                   <%= samples_show_sort_indicator_for("sample_no") %>
                   <%= samples_sort_link(column: "sample_no", label: "Sample No") %>
                </th>
                <th id="batch" class="sticky top-0 px-6 py-3 text-left w-28  underline underline-offset-2">
                   <%= samples_show_sort_indicator_for("received_date") %>
                   <%= samples_sort_link(column: "received_date", label: "Received Date") %>
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3 text-right">
                    Sample Desc
                </th>
                 <th scope="col" class="sticky top-0 px-6 py-3 text-right">
                    Suite
                </th>
                 <th scope="col" class="sticky top-0 px-6 py-3 text-right">
                    Classification
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3 text-right">
                    Count
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3 text-right">
                    Yield
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3 text-center">
                    Grade
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3  text-center">
                    Weight Type
                </th>
                <th scope="col" class="sticky top-0 px-6 py-3  text-center whitespace-nowrap">
                    Turns #
                </th>
            </tr>
        </thead>
        <tbody class="overflow-contain">
           <% @samples.each do |sample| %>
            <tr class="border-b  hover:bg-gray-100">
                <td scope="row" class="px-6 py-4 whitespace-nowrap underline underline-offset-2">
                   <%= link_to sample.sample_no, sample %>
                </td>
                <td class="px-6 py-4 text-left  underline underline-offset-2">
                  <%= link_to sample.received_date.to_formatted_s(:uk_clean_date), sample %>
                </td>
                <td class="px-6 py-4 text-right whitespace-nowrap">
                  <%= sample.sample_description %>m
                </td>
                <td class="px-6 py-4 text-right">
                  <%=  sample.suite %>
                </td>
                <td class="px-6 py-4 text-right">
                  <%=  sample.classification %> 
                </td>
                <td class="px-6 py-4 text-right">
                  <%=  sample.schedule %>
                </td>
                <td class="px-6 py-4 text-right">
                  <%=  sample.barcode_count %> 
                </td>
                <td class="px-6 py-4  text-center">
                   <%=  sample.coagulase_positive_staphylococcus_37C_UMQV9 %>
                </td>
                <td class="px-6 py-4  text-center">
                  <%=  sample.coagulase_positive_staphylococcus_37C_UMQZW %>
                </td>
                <td class="px-6 py-4  text-center">
                  <%=  sample.escherichia_coli_b_glucuronidase %>
                </td>
                <td class="px-6 py-4  text-center">
                  <%=  sample.listeria_species %>
                </td>
                 <td class="px-6 py-4  text-center">
                  <%=  sample.listeria_species_37 %>
                </td>
                <td class="px-6 py-4  text-center">
                  <%=  sample.presumptive_coliforms %>
                </td>
                 <td class="px-6 py-4  text-center">
                  <%=  sample.salmonella %>
                </td>
                <td class="px-6 py-4  text-center">
                  <%=  sample.staphylococcus_aureus_enterotoxins %>
                </td>
                
            </tr>
              <% end %>
        </tbody>
    </table>
</div>



