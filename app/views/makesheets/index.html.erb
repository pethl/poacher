<div class="overscroll-none">
  <% content_for :title, "Poacher: Makesheets" %>
  <% content_for(:page_title, "MAKESHEETS")%>

  <%= render 'shared/dairy_nav' %>

  <div id="makesheets">
    <!-- Shared container for filters + table.
         Full width on sm/md, constrained on large+. -->
    <div class="w-full px-4 lg:max-w-5xl lg:mx-auto">

      <!-- Filters -->
      <%= form_with url: makesheets_path, method: :get, local: true, class: "mb-4" do %>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 items-end">
          <div>
            <%= label_tag :search, "Day", class: "block font-semibold text-sm mb-1" %>
            <div class="w-full">
              <%= render "shared/makesheet_picker",
                    form: nil,
                    field: :search,
                    makesheets: Makesheet.ordered_reverse %>
            </div>
          </div>

          <div>
            <%= label_tag :month, "Month", class: "block font-semibold text-sm mb-1" %>
            <div class="w-full">
              <%= select_tag :month,
                    options_for_select(@available_months, params[:month]),
                    include_blank: "All Months",
                    class: "#{field_class_flex} w-full" %>
            </div>
          </div>

          <div class="col-span-2 flex gap-2">
            <%= submit_tag "Search", class: "#{fill_button_class} text-sm px-4 py-2" %>
            <%= link_to "Clear", makesheets_path, class: "#{clear_button_class} text-sm px-4 py-2" %>
          </div>
        </div>
      <% end %>

      <!-- Table -->
      <div class="overflow-x-auto w-full mb-12">
        <%= render "makesheet_table", makesheets: @makesheets %>
      </div>
    </div>
  </div>
</div>
