<%# Required locals: form:, makesheets:, field: %>
<%
  makesheet_map = makesheets.index_by { |m| m.make_date.strftime("%Y-%m-%d") }.transform_values(&:id).to_json

  field_name = field || :makesheet_id

%>

<div
  data-controller="makesheet-picker"
  data-makesheet-picker-makesheets-value='<%= makesheet_map %>'
>
  <!-- Flowbite date input -->
  <input
    type="text"
    placeholder="Select make date"
    class="<%= field_class_flex %>"
    data-makesheet-picker-target="input"
  />

  <!-- Hidden field to store selected makesheet_id -->
 
  <input type="hidden" name="makesheet_id" data-makesheet-picker-target="output" />


  
</div>
